{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/admin.ts","webpack:///./src/autocalc.ts","webpack:///./src/functions.ts","webpack:///./src/index.ts","webpack:///./src/parse.ts","webpack:///./src/utils.ts","webpack:///external \"jQuery\""],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;AClFuD;AACjB;AAGtC,MAAM,SAAS,GAAG,WAAW,CAAC;AAC9B,MAAM,GAAG,GAAG,GAAG,GAAG,SAAS,CAAC;AAC5B,IAAI,MAAM,GAAG,mBAAmB;AAE1B,cAAe,EAAU,EAAE,IAAc,EAAE,IAAW,EAAE,KAAiB;IAC3E,OAAO,EAAE,CAAC,IAAI,CAAC;QACX,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,GAAG,SAAS,GAAG,GAAG,GAAG,IAAI,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;YACxD,MAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;YACtB,MAAM,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,yDAAU,CAAC,EAAE,CAAC,CAAC;YAE9B,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;gBACpB,OAAO;aACV;YAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,IAAI,CAAC,CAAC,+DAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,IAAI,CAAC,EAAE;oBAClD,OAAO;iBACV;aACJ;YAED,IAAI,IAAI,CAAC,aAAa,EAAE;gBACpB,MAAM,IAAI,yBAAyB,CAAC;aACvC;YAED,MAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,SAAS,GAAG,GAAG,CAAC,CAAC;YAEjE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE;oBAC9C,QAAQ,EAAE,EAAE;oBACZ,cAAc,EAAE,MAAM;oBACtB,MAAM,EAAE,KAAK;oBACb,OAAO,EAAE,IAAI;oBACb,IAAI,EAAE,IAAI;oBACV,IAAI,EAAE,IAAI;oBACV,KAAK,EAAE,KAAK;iBACf,EAAE,UAAU,CAAC;oBACV,0DAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC5H,CAAC,CAAC,CAAC;aACN;YACD,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;aACtC;YACD,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;YACrB,IAAI,IAAI,CAAC,QAAQ,EAAE;gBACf,CAAC,CAAC,+DAAgB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,EAAE,CAAC;aACjD;QACL,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC;AAEK,iBAAkB,EAAU,EAAE,IAAc;IAC9C,OAAO,EAAE,CAAC,IAAI,CAAC;QACX,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,GAAG,GAAG,IAAI,CAAC,SAAS,GAAG,IAAI,GAAG,GAAG,GAAG,GAAG,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;YAClD,MAAM,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;YACtB,MAAM,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACtC,MAAM,MAAM,GAAG,yDAAU,CAAC,EAAE,CAAC,CAAC;YAC9B,IAAI,MAAM,CAAC,MAAM,IAAI,CAAC,EAAE;gBACpB,OAAO;aACV;YACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,GAAG,SAAS,CAAC,CAAC;aAC5D;YACD,IAAI,IAAI,CAAC,eAAe,EAAE;gBACtB,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;aAChC;YACD,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC;AACP,CAAC;;;;;;;;;;;;;;;;;AC7E+B;AAEkC;AAc5D,kBAAmB,EAAU,EAAE,MAAgB,EAAE,MAAc,EAAE,GAAW,EAAE,IAAc,EAAE,IAAW,EAAE,KAAiB;IAC9H,IAAI,WAAW,GAAG,EAAE,CAAC;IACrB,MAAM,YAAY,GAAkB;QAChC,GAAG,EAAE,EAAE;QACP,SAAS,EAAE,CAAC,CAAC;QACb,IAAI,EAAE,EAAE;QACR,GAAG,EAAE,EAAE;QACP,MAAM,EAAE,CAAC,CAAC;KACb,CAAC;IAEF,KAAK,MAAM,IAAI,IAAI,KAAK,EAAE;QACtB,MAAM,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;QACtB,MAAM,CAAC,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QAClC,IAAI,CAAmB,CAAC;QAExB,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,EAAE;YAC7B,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;YAChD,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;SAC/C;KACJ;IAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;QACpC,MAAM,KAAK,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;QACxB,MAAM,UAAU,GAAG,CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,EAAE,CAAC;QACzD,MAAM,QAAQ,GAAG,yDAAU,CAAC,UAAU,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;QAC5D,IAAI,QAAQ,CAAC,MAAM,IAAI,CAAC,EAAE;YACtB,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;YACxB,OAAO;SACV;QACD,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,GAAG,GAAG,KAAK,GAAG,GAAG,EAAE,GAAG,CAAC,EAAE,QAAQ,CAAC,CAAC;KACjE;IACD,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;IAE1B,IAAI,YAAY,CAAC,GAAG,IAAI,EAAE,EAAE;QACxB,YAAY,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;KAC1C;IACD,IAAI,YAAY,CAAC,SAAS,IAAI,CAAC,CAAC,EAAE;QAC9B,YAAY,CAAC,SAAS,GAAG,CAAC,CAAC;KAC9B;IACD,IAAI,YAAY,CAAC,IAAI,IAAI,EAAE,EAAE;QACzB,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC;KAC5C;IAED,MAAM,GAAG,GAAG,oDAAK,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;IAC5B,IAAI,GAAG,IAAI,IAAI,EAAE;QACb,WAAW,GAAG,EAAE,CAAC;KACpB;SAAM;QACH,WAAW,GAAG,wDAAS,CAAC,GAAG,EAAE,YAAY,CAAC,SAAS,CAAC,CAAC;KACxD;IAED,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAChD,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;IAChD,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE,YAAY,CAAC,GAAG,CAAC,CAAC;IAC5D,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,MAAM,EAAE,YAAY,CAAC,IAAI,CAAC,CAAC;IAC7D,IAAI,YAAY,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;QAC1B,IAAI,YAAY,CAAC,MAAM,IAAI,CAAC,EAAE;YAC1B,WAAW,GAAG,YAAY,CAAC,GAAG,GAAG,WAAW,CAAC;SAChD;aAAM;YACH,WAAW,GAAG,WAAW,GAAG,YAAY,CAAC,GAAG,CAAC;SAChD;KACJ;IAED,IAAI,IAAI,CAAC,aAAa,EAAE;QACpB,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;KACtD;IACD,IAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;QACjC,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;KAC7D;IAED,MAAM,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;IACxB,IAAI,IAAI,CAAC,SAAS,EAAE;QAChB,MAAM,CAAC,MAAM,EAAE,CAAC;KACnB;AACL,CAAC;;;;;;;;;;;;;;;;;;ACzFsB;AAE8B;AAE9C,MAAM,KAAK,GAAe;IAC7B,KAAK,EAAE;QACH,GAAG,EAAE,oBAAoB;QACzB,IAAI,EAAE,UAAU,KAAa,EAAE,GAAW,EAAE,IAAc,EAAE,YAA2B;YACnF,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,6CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;gBACjC,MAAM,CAAC,GAAG,UAAU,CAAC,yDAAU,CAAC,6CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC;gBACpE,CAAC,IAAI,CAAC,CAAC;YACX,CAAC,CAAC,CAAC;YACH,OAAO,CAAC,CAAC;QACb,CAAC;KACJ;IACD,KAAK,EAAE;QACH,GAAG,EAAE,oBAAoB;QACzB,IAAI,EAAE,UAAU,KAAa,EAAE,GAAW,EAAE,IAAc,EAAE,YAA2B;YACnF,IAAI,CAAC,GAAG,CAAC,CAAC;YACV,MAAM,CAAC,GAAG,6CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC;gBAC3C,MAAM,CAAC,GAAG,UAAU,CAAC,yDAAU,CAAC,6CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC;gBACpE,CAAC,IAAI,CAAC,CAAC;YACX,CAAC,CAAC,CAAC,MAAM,CAAC;YACV,OAAO,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;KACJ;IACD,KAAK,EAAE;QACH,GAAG,EAAE,oBAAoB;QACzB,IAAI,EAAE,UAAU,KAAa,EAAE,GAAW,EAAE,IAAc,EAAE,YAA2B;YACnF,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,6CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1E,OAAO,yDAAU,CAAC,6CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACd,CAAC;KACJ;IACD,KAAK,EAAE;QACH,GAAG,EAAE,oBAAoB;QACzB,IAAI,EAAE,UAAU,KAAa,EAAE,GAAW,EAAE,IAAc,EAAE,YAA2B;YACnF,OAAO,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,6CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC;gBAC1E,OAAO,yDAAU,CAAC,6CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;YACtD,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;QACd,CAAC;KACJ;IACD,OAAO,EAAE;QACL,GAAG,EAAE,sBAAsB;QAC3B,IAAI,EAAE,UAAU,KAAa,EAAE,GAAW;YACtC,OAAO,6CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC;QAClD,CAAC;KACJ;IACD,eAAe,EAAE;QACb,GAAG,EAAE,8BAA8B;QACnC,IAAI,EAAE,UAAU,KAAa,EAAE,GAAW;YACtC,OAAO,6CAAC,CAAC,IAAI,CAAC,6CAAC,CAAC,+DAAgB,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,EAAE,UAAU,CAAC;gBACtD,MAAM,GAAG,GAAG,6CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC;gBAC5B,OAAO,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC;YAC1B,CAAC,CAAC,CAAC,MAAM,CAAC;QACd,CAAC;KACJ;CACJ;;;;;;;;;;;;;;;;;;;ACrDsB;AACiB;AACJ;AACL;AAE/B,6CAAC,CAAC,EAAE,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAC1B,UAAwB,GAAG,IAAU;IAEjC,IAAI,MAAM,GAAG,MAAM;IACnB,IAAI,CAAC,GAAG,6CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,6CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;IAC9C,MAAM,aAAa,GAAiC;QAChD,IAAI,EAAE,2CAAI;QACV,OAAO,EAAE,8CAAO;KACnB,CAAC;IAEF,KAAI,MAAM,GAAG,IAAI,IAAI,EAAE;QACnB,IAAI,OAAO,GAAG,KAAM,QAAQ,EAAE;YAC1B,MAAM,GAAG,GAAG,CAAC,QAAQ,EAAE,CAAC;SAC3B;QACD,IAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;YACzB,CAAC,GAAG,6CAAC,CAAC,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;SACxB;KACJ;IAED,MAAM,CAAC,GAAG,6CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,gDAAK,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC;IACvC,MAAM,CAAC,GAAG,6CAAC,CAAC,MAAM,CAAC,EAAE,EAAE,2CAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC;IAErC,IAAI,aAAa,CAAC,MAAM,CAAC,EAAE;QACvB,OAAO,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KAC/C;SAAM;QACH,OAAO,mDAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KAC9B;AACL,CAAC,EACD;IACI,QAAQ,EAAE;QACN,SAAS,EAAE,WAAW;QACtB,YAAY,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QAC7B,WAAW,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;QACvB,aAAa,EAAE,CAAC,CAAC;QACjB,QAAQ,EAAE,IAAI;QACd,SAAS,EAAE,IAAI;QACf,aAAa,EAAE,KAAK;QACpB,eAAe,EAAE,IAAI;QACrB,cAAc,EAAE,IAAI;QACpB,WAAW,EAAE,KAAK;QAClB,aAAa,EAAE,KAAK;QACpB,YAAY,EAAE,IAAI;QAClB,KAAK,EAAE,EAAE;QACT,IAAI,EAAE,EAAE;KACX;CACJ,CACJ,CAAC;;;;;;;;;;;;;;;AC/CF;AAAA,MAAM,GAAG,GAAgB;IACrB,GAAG,EAAE;QACD,EAAE,EAAE,GAAG;QACP,UAAU,EAAE,EAAE;QACd,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,UAAU,CAAS,EAAE,CAAS;YAChC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;KACJ;IACD,GAAG,EAAE;QACD,EAAE,EAAE,GAAG;QACP,UAAU,EAAE,EAAE;QACd,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,UAAU,CAAS,EAAE,CAAS;YAChC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;KACJ;IACD,GAAG,EAAE;QACD,EAAE,EAAE,GAAG;QACP,UAAU,EAAE,EAAE;QACd,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,UAAU,CAAS,EAAE,CAAS;YAChC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;KACJ;IACD,GAAG,EAAE;QACD,EAAE,EAAE,GAAG;QACP,UAAU,EAAE,EAAE;QACd,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,UAAU,CAAS,EAAE,CAAS;YAChC,OAAO,CAAC,GAAG,CAAC,CAAC;QACjB,CAAC;KACJ;IACD,IAAI,EAAE;QACF,EAAE,EAAE,IAAI;QACR,UAAU,EAAE,EAAE;QACd,KAAK,EAAE,GAAG;QACV,IAAI,EAAE,UAAU,CAAS,EAAE,CAAS;YAChC,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QAC1B,CAAC;KACJ;CACJ,CAAC;AAEK,MAAM,IAAI,GAAU;IACvB,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;IACd,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,CAAC;CAC3B,CAAC;AAEF,kBAAkB,CAAQ;IACtB,MAAM,WAAW,GAAW,CAAC,CAAC,MAAM,CAAC;IACrC,IAAI,KAAa,CAAC;IAClB,IAAI,KAAuB,CAAC;IAG5B,KAAK,GAAG,CAAC,CAAC;IACV,OAAO,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;QAC1F,CAAC,CAAC,MAAM,EAAE,CAAC;KACd;IACD,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;QACrC,CAAC,CAAC,MAAM,EAAE,CAAC;QACX,OAAO,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;YAC1F,CAAC,CAAC,MAAM,EAAE,CAAC;SACd;KACJ;IACD,IAAI,CAAC,CAAC,MAAM,GAAG,WAAW,EAAE;QAExB,OAAO,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,MAAM,GAAG,WAAW,CAAC,CAAC,CAAC;KAC3E;SAAM,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;QAC5C,CAAC,CAAC,MAAM,EAAE,CAAC;QACX,OAAO,QAAQ,CAAC,CAAC,CAAC,CAAC;KACtB;SAAM,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;QAC5C,CAAC,CAAC,MAAM,EAAE,CAAC;QACX,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9B;SAAM,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;QAC5C,CAAC,CAAC,MAAM,EAAE,CAAC;QACX,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QACrB,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE;YACrC,CAAC,CAAC,MAAM,EAAE,CAAC;YACX,OAAO,KAAK,CAAC;SAChB;QACD,CAAC,CAAC,KAAK,GAAG,6BAA6B,CAAC;QACxC,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;KACjC;SAAM,IAAI,CAAC,KAAK,GAAG,oBAAoB,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI,EAAE;QAE/E,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;QACtB,CAAC,CAAC,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC;QACxB,IAAI,IAAI,IAAI,IAAI,EAAE;YACd,OAAO,IAAI,CAAC,IAAI,CAAC,CAAC;SACrB;QACD,CAAC,CAAC,KAAK,GAAG,oCAAoC,GAAG,IAAI,GAAG,GAAG,CAAC;QAC5D,MAAM,IAAI,KAAK,CAAC,YAAY,CAAC,CAAC;KACjC;SAAM;QACH,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,EAAE;YAC7B,CAAC,CAAC,KAAK,GAAG,gDAAgD,CAAC;YAC3D,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;SACnC;aAAM;YACH,CAAC,CAAC,KAAK,GAAG,mCAAmC,CAAC;YAC9C,MAAM,IAAI,KAAK,CAAC,gBAAgB,CAAC,CAAC;SACrC;KACJ;AACL,CAAC;AAAA,CAAC;AAEF,gBAAgB,KAAa;IACzB,OAAO,CAAC,KAAK,CAAC;AAClB,CAAC;AAAA,CAAC;AAEF,iBAAiB,CAAQ;IACrB,IAAI,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,IAAI,IAAI,EAAE;QACtC,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC;QACd,OAAO,GAAG,CAAC,IAAI,CAAC,CAAC;KACpB;IACD,IAAI,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE;QACnD,OAAO,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;KAC9C;IACD,OAAO,IAAI,CAAC;AAChB,CAAC;AAAA,CAAC;AAEF,mBAAmB,CAAQ;IACvB,MAAM,KAAK,GAAiB,CAAC;YACzB,UAAU,EAAE,CAAC;YACb,KAAK,EAAE,GAAG;SACb,CAAC,CAAC;IACH,IAAI,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;IACxB,SAAU;QACN,MAAM,EAAE,GAAG,OAAO,CAAC,CAAC,CAAC,IAAI;YACrB,UAAU,EAAE,CAAC;YACb,KAAK,EAAE,GAAG;SACb,CAAC;QACF,OAAO,EAAE,CAAC,UAAU,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,UAAU;YACrD,CAAC,EAAE,CAAC,UAAU,IAAI,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,UAAU,IAAI,EAAE,CAAC,KAAK,IAAI,GAAG,CAAC,EAAE;YAE1E,MAAM,GAAG,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;YACxB,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;gBACX,OAAO,KAAK,CAAC;aAChB;YAED,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;SACtC;QAED,KAAK,CAAC,IAAI,CAAC;YACP,EAAE,EAAE,EAAE,CAAC,EAAE;YACT,UAAU,EAAE,EAAE,CAAC,UAAU;YACzB,KAAK,EAAE,EAAE,CAAC,KAAK;YACf,IAAI,EAAE,EAAE,CAAC,IAAI;YACb,KAAK,EAAE,KAAK;SACf,CAAC,CAAC;QACH,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;KACvB;AACL,CAAC;AAAA,CAAC;AAEI,eAAgB,GAAW,EAAE,IAAc;IAC7C,MAAM,CAAC,GAAU;QACb,MAAM,EAAE,GAAG;QACX,MAAM,EAAE,CAAC;KACZ,CAAC;IACF,IAAI;QACA,MAAM,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE;YAC5B,CAAC,CAAC,KAAK,GAAG,qCAAqC,GAAG,CAAC,CAAC,MAAM,CAAC;YAC3D,MAAM,IAAI,KAAK,CAAC,cAAc,CAAC,CAAC;SACnC;QACD,OAAO,KAAK,CAAC;KAChB;IAAC,OAAO,CAAC,EAAE;QACR,IAAI,IAAI,CAAC,cAAc,EAAE;YACrB,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SAC/F;QACD,OAAO,IAAI,CAAC;KACf;AACL,CAAC;AAAA,CAAC;;;;;;;;;;;;;;;;;;;;ACjLqB;AAQjB,oBAAqB,EAAU;IACjC,MAAM,MAAM,GAAG,EAAE,CAAC;IAClB,MAAM,CAAC,GAAG,aAAa,CAAC;IACxB,IAAI,CAAmB,CAAC;IAExB,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,IAAI,EAAE;QAC7B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;KACrB;IAED,OAAO,MAAM,CAAC;AAClB,CAAC;AAAA,CAAC;AAOI,0BAA2B,KAAa;IAC1C,IAAI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC3B,OAAO,eAAe,GAAG,KAAK,GAAG,IAAI,CAAC;KACzC;IACD,OAAO,KAAK,CAAC;AACjB,CAAC;AAAA,CAAC;AAOI,oBAAqB,KAAiC,EAAE,IAAc,EAAE,YAA2B;IACrG,MAAM,UAAU,GAAG,KAAK,GAAG,EAAE,CAAC;IAC9B,MAAM,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IAC3D,MAAM,OAAO,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC;IACxE,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,IAAI,EAAE,GAAG,EAAE,CAAC;IACZ,IAAI,GAAG,GAAG,EAAE,CAAC;IACb,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;IAChB,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,GAAG,GAAG,EAAE,CAAC;IACb,IAAI,MAAM,GAAG,CAAC,CAAC,CAAC;IAChB,IAAI,SAAS,GAAG,CAAC,CAAC;IAElB,KAAK,IAAI,CAAC,GAAG,UAAU,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;QAC7C,EAAE,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;QAC1B,IAAI,6CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,EAAE;YAC9B,QAAQ,GAAG,EAAE,GAAG,QAAQ,CAAC;SAC5B;aAAM;YACH,IAAI,GAAG,IAAI,EAAE,IAAI,6CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,EAAE;gBACpD,MAAM,GAAG,CAAC,CAAC;gBACX,GAAG,GAAG,EAAE,CAAC;gBACT,QAAQ,GAAG,GAAG,GAAG,QAAQ,CAAC;aAC7B;iBAAM,IAAI,IAAI,IAAI,EAAE,IAAI,6CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,EAAE;gBAC7D,IAAI,GAAG,EAAE,CAAC;aACb;iBAAM,IAAI,GAAG,IAAI,EAAE,IAAI,6CAAC,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;gBAC5F,GAAG,GAAG,EAAE,CAAC;gBACT,MAAM,GAAG,CAAC,CAAC;aACd;SACJ;KACJ;IAED,IAAI,GAAG,IAAI,EAAE,EAAE;QACX,SAAS,GAAG,UAAU,CAAC,MAAM,GAAG,MAAM,GAAG,CAAC,CAAC;QAC3C,IAAI,MAAM,GAAG,MAAM,EAAE;YACjB,SAAS,EAAE,CAAC;SACf;KACJ;IAED,IAAI,IAAI,CAAC,aAAa,IAAI,CAAC,CAAC,EAAE;QAC1B,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC;KAClC;IAED,IAAI,SAAS,CAAC,MAAM,KAAK,CAAC,EAAE;QACxB,IAAI,YAAY,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,IAAI,EAAE,EAAE;YACrC,YAAY,CAAC,GAAG,GAAG,GAAG,CAAC;SAC1B;QAED,IAAI,CAAC,YAAY,CAAC,SAAS,IAAI,CAAC,CAAC,IAAI,SAAS,IAAI,CAAC,CAAC,CAAC;YACjD,CAAC,YAAY,CAAC,SAAS,IAAI,CAAC,CAAC,IAAI,SAAS,IAAI,CAAC,CAAC,IAAI,SAAS,GAAG,YAAY,CAAC,SAAS,CAAC,EAAE;YACzF,YAAY,CAAC,SAAS,GAAG,SAAS,CAAC;SACtC;QAED,IAAI,YAAY,CAAC,IAAI,IAAI,EAAE,IAAI,IAAI,IAAI,EAAE,EAAE;YACvC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;SAC5B;QACD,IAAI,YAAY,CAAC,GAAG,IAAI,EAAE,IAAI,GAAG,IAAI,EAAE,EAAE;YACrC,YAAY,CAAC,GAAG,GAAG,GAAG,CAAC;YACvB,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;SAChC;KACJ;IAED,IAAI,IAAI,CAAC,WAAW,IAAI,QAAQ,IAAI,EAAE,EAAE;QACpC,QAAQ,GAAG,GAAG,CAAC;KAClB;IACD,OAAO,QAAQ,CAAC;AACpB,CAAC;AAAA,CAAC;AAMI,mBAAoB,GAAW,EAAE,SAAiB;IACpD,MAAM,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC;IACtC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACvB,MAAM,EAAE,GAAG,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAC1C,MAAM,GAAG,GAAG,cAAc,CAAC;IAC3B,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,OAAO,GAAG,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;QACjB,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,EAAE,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC;KAC3C;IACD,OAAO,EAAE,GAAG,EAAE,CAAC;AACnB,CAAC;AAAA,CAAC;;;;;;;;;;;;ACtHF,wB","file":"jautocalc.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","import { findFields, getFieldSelector } from './utils';\nimport { autoCalc } from './autocalc';\nimport { IOptions, IVars, IFunctions } from './interfaces';\n\nconst NAMESPACE = 'jautocalc';\nconst TAG = '_' + NAMESPACE;\nlet EVENTS = 'focus change blur'\n\nexport function init(jq: JQuery, opts: IOptions, vars: IVars, funcs: IFunctions): JQuery {\n    return jq.each(function (this: HTMLElement) {\n        const $ctx = $(this);\n        $('[' + opts.attribute + ']:not([' + TAG + '])', $ctx).each(function (this: HTMLElement) {\n            const $this = $(this);\n            const eq = $this.attr(opts.attribute);\n            const fields = findFields(eq);\n\n            if (fields.length == 0) {\n                return;\n            }\n\n            for (let i = 0; i < fields.length; i++) {\n                if ($(getFieldSelector(fields[i]), $ctx).length == 0) {\n                    return;\n                }\n            }\n\n            if (opts.keyEventsFire) {\n                EVENTS += ' keyup keydown keypress';\n            }\n\n            const fireEvents = EVENTS.split(' ').join('.' + NAMESPACE + ' ');\n\n            for (let i = 0; i < fields.length; i++) {\n                const field = fields[i];\n                $(getFieldSelector(field), $ctx).bind(fireEvents, {\n                    equation: eq,\n                    equationFields: fields,\n                    result: $this,\n                    context: $ctx,\n                    opts: opts,\n                    vars: vars,\n                    funcs: funcs\n                }, function (e) {\n                    autoCalc(e.data.equation, e.data.equationFields, e.data.result, e.data.context, e.data.opts, e.data.vars, e.data.funcs);\n                });\n            }\n            if (opts.readOnlyResults) {\n                $this.attr('readonly', 'readonly');\n            }\n            $this.attr(TAG, TAG);\n            if (opts.initFire) {\n                $(getFieldSelector(fields[0]), $ctx).change();\n            }\n        });\n    });\n}\n\nexport function destroy(jq: JQuery, opts: IOptions): JQuery {\n    return jq.each(function (this: HTMLElement) {\n        const $ctx = $(this);\n        $('[' + opts.attribute + '][' + TAG + ']', $ctx).each(function (this: HTMLElement) {\n            const $this = $(this);\n            const eq = $this.attr(opts.attribute);\n            const fields = findFields(eq);\n            if (fields.length == 0) {\n                return;\n            }\n            for (let i = 0; i < fields.length; i++) {\n                const field = fields[i];\n                $(getFieldSelector(field), $ctx).unbind('.' + NAMESPACE);\n            }\n            if (opts.readOnlyResults) {\n                $this.removeAttr('readonly');\n            }\n            $this.removeAttr(TAG);\n        });\n    });\n}\n","import { parse } from './parse';\nimport { INumberFormat, IOptions, IVars, IFunctions } from './interfaces';\nimport { getFieldSelector, numCleanse, numberFix } from './utils';\n\n/*\n    Heart of the plugin:\n        * replaces aggregate functions in the equation string with the result of the aggregate function\n            (stripped to digits, decimal, and negative sign).\n        * replaces the field names in the equation string with the actual field value (stripped to digits,\n            decimal, and negative sign).\n        * strips all whitespace out of equation\n        * runs equation through parser\n        * format result with proper thousand, decimal, and currency values\n        * update result field with formatted result value\n        * potentially trigger chain reaction calculations if necessary\n*/\nexport function autoCalc(eq: string, fields: string[], result: JQuery, ctx: JQuery, opts: IOptions, vars: IVars, funcs: IFunctions) {\n    let resultValue = '';\n    const numberFormat: INumberFormat = {\n        dec: '',\n        decPlaces: -1,\n        thou: '',\n        sym: '',\n        symLoc: -1\n    };\n\n    for (const func in funcs) {\n        const f = funcs[func];\n        const r = new RegExp(f.rgx, 'gi');\n        let m: RegExpMatchArray;\n\n        while ((m = r.exec(eq)) != null) {\n            const v = f.exec(m[1], ctx, opts, numberFormat);\n            eq = eq.replace(new RegExp(f.rgx, 'gi'), v);\n        }\n    }\n\n    for (let i = 0; i < fields.length; i++) {\n        const field = fields[i];\n        const fieldValue = $(getFieldSelector(field), ctx).val();\n        const numValue = numCleanse(fieldValue, opts, numberFormat);\n        if (numValue.length == 0) {\n            result.val('').change();\n            return;\n        }\n        eq = eq.replace(new RegExp('{' + field + '}', 'g'), numValue);\n    }\n    eq = eq.replace(/ /g, '');\n\n    if (numberFormat.dec == '') {\n        numberFormat.dec = opts.decimalOpts[0];\n    }\n    if (numberFormat.decPlaces == -1) {\n        numberFormat.decPlaces = 0;\n    }\n    if (numberFormat.thou == '') {\n        numberFormat.thou = opts.thousandOpts[0];\n    }\n\n    const tmp = parse(eq, opts);\n    if (tmp == null) {\n        resultValue = '';\n    } else {\n        resultValue = numberFix(tmp, numberFormat.decPlaces);\n    }\n\n    resultValue = resultValue.replace(/\\./g, '<c>');\n    resultValue = resultValue.replace(/\\,/g, '<t>');\n    resultValue = resultValue.replace(/<c>/g, numberFormat.dec);\n    resultValue = resultValue.replace(/<t>/g, numberFormat.thou);\n    if (numberFormat.symLoc > -1) {\n        if (numberFormat.symLoc == 0) {\n            resultValue = numberFormat.sym + resultValue;\n        } else {\n            resultValue = resultValue + numberFormat.sym;\n        }\n    }\n\n    if (opts.smartIntegers) {\n        resultValue = resultValue.replace(/[\\,\\.]0+$/, '');\n    }\n    if ($.isFunction(opts.onShowResult)) {\n        resultValue = opts.onShowResult.call(result, resultValue);\n    }\n\n    result.val(resultValue);\n    if (opts.chainFire) {\n        result.change();\n    }\n}\n","import $ from 'jquery';\nimport { INumberFormat, IFunctions, IOptions } from \"./interfaces\";\nimport { getFieldSelector, numCleanse} from './utils'\n\nexport const funcs: IFunctions = {\n    'sum': {\n        rgx: 'sum\\\\({([^}]+)}\\\\)',\n        exec: function (field: string, ctx: JQuery, opts: IOptions, numberFormat: INumberFormat): number {\n            let m = 0;\n            $(getFieldSelector(field), ctx).each(function () {\n                const n = parseFloat(numCleanse($(this).val(), opts, numberFormat));\n                m += n;\n            });\n            return m;\n        }\n    },\n    'avg': {\n        rgx: 'avg\\\\({([^}]+)}\\\\)',\n        exec: function (field: string, ctx: JQuery, opts: IOptions, numberFormat: INumberFormat): number {\n            let m = 0;\n            const c = $(getFieldSelector(field), ctx).each(function () {\n                const n = parseFloat(numCleanse($(this).val(), opts, numberFormat));\n                m += n;\n            }).length;\n            return m / c;\n        }\n    },\n    'min': {\n        rgx: 'min\\\\({([^}]+)}\\\\)',\n        exec: function (field: string, ctx: JQuery, opts: IOptions, numberFormat: INumberFormat): number {\n            return Math.min.apply(this, $(getFieldSelector(field), ctx).map(function (i, e) {\n                return numCleanse($(e).val(), opts, numberFormat);\n            }).get());\n        }\n    },\n    'max': {\n        rgx: 'max\\\\({([^}]+)}\\\\)',\n        exec: function (field: string, ctx: JQuery, opts: IOptions, numberFormat: INumberFormat): number {\n            return Math.max.apply(this, $(getFieldSelector(field), ctx).map(function (i, e) {\n                return numCleanse($(e).val(), opts, numberFormat);\n            }).get());\n        }\n    },\n    'count': {\n        rgx: 'count\\\\({([^}]+)}\\\\)',\n        exec: function (field: string, ctx: JQuery): number {\n            return $(getFieldSelector(field), ctx).length;\n        }\n    },\n    'countNotEmpty': {\n        rgx: 'countNotEmpty\\\\({([^}]+)}\\\\)',\n        exec: function (field: string, ctx: JQuery): number {\n            return $.grep($(getFieldSelector(field), ctx), function (n) {\n                const val = $(n).val() + '';\n                return val.length > 0;\n            }).length;\n        }\n    }\n}\n","/*\n    jAutoCalc.js\n    Copyright (c) 2010 3StorySoftware, LLC\n    see LICENSE for details\n*/\nimport $ from 'jquery';\nimport { init, destroy } from './admin';\nimport { funcs } from './functions';\nimport { vars } from './parse';\n\n$.fn.jAutoCalc = Object.assign<JAutoCalcFunction, JAutoCalcDefaults>(\n    function (this: JQuery, ...args:any[]): JQuery {\n\n        let method = 'init'\n        let o = $.extend({}, $.fn.jAutoCalc.defaults);\n        const publicMethods: { [name: string]: Function } = {\n            init: init,\n            destroy: destroy\n        };\n\n        for(const arg of args) {\n            if (typeof arg  === 'string') {\n                method = arg.toString();\n            }\n            if (typeof arg === 'object') {\n                o = $.extend(o, arg);\n            }\n        }\n\n        const f = $.extend({}, funcs, o.funcs);\n        const v = $.extend([], vars, o.vars);\n\n        if (publicMethods[method]) {\n            return publicMethods[method](this, o, v, f);\n        } else {\n            return init(this, o, v, f);\n        }\n    },\n    {\n        defaults: {\n            attribute: 'jAutoCalc',\n            thousandOpts: [',', '.', ' '],\n            decimalOpts: ['.', ','],\n            decimalPlaces: -1,\n            initFire: true,\n            chainFire: true,\n            keyEventsFire: false,\n            readOnlyResults: true,\n            showParseError: true,\n            emptyAsZero: false,\n            smartIntegers: false,\n            onShowResult: null,\n            funcs: {},\n            vars: {}\n        }\n    }\n);\n","/*\n    Begin parse functions\n    Taken from\n        * http://stackoverflow.com/questions/28256/equation-expression-parser-with-precedence\n        * http://users.telenet.be/bartl/expressionParser/expressionParser.html\n*/\nimport $ from 'jquery';\nimport { IData, IOperation, IOperations, IVars, IOptions } from './interfaces';\n\nconst ops: IOperations = {\n    '+': {\n        op: '+',\n        precedence: 10,\n        assoc: 'L',\n        exec: function (l: number, r: number) {\n            return l + r;\n        }\n    },\n    '-': {\n        op: '-',\n        precedence: 10,\n        assoc: 'L',\n        exec: function (l: number, r: number) {\n            return l - r;\n        }\n    },\n    '*': {\n        op: '*',\n        precedence: 20,\n        assoc: 'L',\n        exec: function (l: number, r: number) {\n            return l * r;\n        }\n    },\n    '/': {\n        op: '/',\n        precedence: 20,\n        assoc: 'L',\n        exec: function (l: number, r: number) {\n            return l / r;\n        }\n    },\n    '**': {\n        op: '**',\n        precedence: 30,\n        assoc: 'R',\n        exec: function (l: number, r: number) {\n            return Math.pow(l, r);\n        }\n    }\n};\n\nexport const vars: IVars = {\n    e: Math.exp(1),\n    pi: Math.atan2(1, 1) * 4\n};\n\nfunction parseVal(r: IData): number {\n    const startOffset: number = r.offset;\n    let value: number;\n    let match: RegExpMatchArray;\n    // floating point number\n    // example of parsing (\"lexing\") without aid of regular expressions\n    value = 0;\n    while ('0123456789'.indexOf(r.string.substr(r.offset, 1)) >= 0 && r.offset < r.string.length) {\n        r.offset++;\n    }\n    if (r.string.substr(r.offset, 1) == '.') {\n        r.offset++;\n        while ('0123456789'.indexOf(r.string.substr(r.offset, 1)) >= 0 && r.offset < r.string.length) {\n            r.offset++;\n        }\n    }\n    if (r.offset > startOffset) { // did that work?\n        // OK, so I'm lazy...\n        return parseFloat(r.string.substr(startOffset, r.offset - startOffset));\n    } else if (r.string.substr(r.offset, 1) == '+') { // unary plus\n        r.offset++;\n        return parseVal(r);\n    } else if (r.string.substr(r.offset, 1) == '-') { // unary minus\n        r.offset++;\n        return negate(parseVal(r));\n    } else if (r.string.substr(r.offset, 1) == '(') { // expression in parens\n        r.offset++; // eat \"(\"\n        value = parseExpr(r);\n        if (r.string.substr(r.offset, 1) == ')') {\n            r.offset++;\n            return value;\n        }\n        r.error = \"Parsing error: ')' expected\";\n        throw new Error('parseError');\n    } else if ((match = /^[a-z_][a-z0-9_]*/i.exec(r.string.substr(r.offset))) != null) { // variable/constant name\n        // sorry for the regular expression, but I'm too lazy to manually build a varname lexer\n        const name = match[0]; // matched string\n        r.offset += name.length;\n        if (name in vars) {\n            return vars[name]; // I know that thing!\n        }\n        r.error = \"Semantic error: unknown variable '\" + name + \"'\";\n        throw new Error('unknownVar');\n    } else {\n        if (r.string.length == r.offset) {\n            r.error = 'Parsing error at end of string: value expected';\n            throw new Error('valueMissing');\n        } else {\n            r.error = \"Parsing error: unrecognized value\";\n            throw new Error('valueNotParsed');\n        }\n    }\n};\n\nfunction negate(value: number): number {\n    return -value;\n};\n\nfunction parseOp(r: IData) {\n    if (r.string.substr(r.offset, 2) == '**') {\n        r.offset += 2;\n        return ops['**'];\n    }\n    if ('+-*/'.indexOf(r.string.substr(r.offset, 1)) >= 0) {\n        return ops[r.string.substr(r.offset++, 1)];\n    }\n    return null;\n};\n\nfunction parseExpr(r: IData) {\n    const stack: IOperation[] = [{\n        precedence: 0,\n        assoc: 'L'\n    }];\n    let value = parseVal(r); // first value on the left\n    for (; ;) {\n        const op = parseOp(r) || {\n            precedence: 0,\n            assoc: 'L'\n        };\n        while (op.precedence < stack[stack.length - 1].precedence ||\n            (op.precedence == stack[stack.length - 1].precedence && op.assoc == 'L')) {\n            // precedence op is too low, calculate with what we've got on the left, first\n            const tos = stack.pop();\n            if (!tos.exec) {\n                return value; // end  reached\n            }\n            // do the calculation (\"reduce\"), producing a new value\n            value = tos.exec(tos.value, value);\n        }\n        // store on stack and continue parsing (\"shift\")\n        stack.push({\n            op: op.op,\n            precedence: op.precedence,\n            assoc: op.assoc,\n            exec: op.exec,\n            value: value\n        });\n        value = parseVal(r); // value on the right\n    }\n};\n\nexport function parse(str: string, opts: IOptions): number | null {\n    const r: IData = {\n        string: str,\n        offset: 0\n    };\n    try {\n        const value = parseExpr(r);\n        if (r.offset < r.string.length) {\n            r.error = 'Syntax error: junk found at offset ' + r.offset;\n            throw new Error('trailingJunk');\n        }\n        return value;\n    } catch (e) {\n        if (opts.showParseError) {\n            alert(`${r.error} (${e}):\\n${r.string.substr(0, r.offset)}<*>${r.string.substr(r.offset)}`);\n        }\n        return null;\n    }\n};\n","import $ from 'jquery';\nimport { INumberFormat, IOptions } from './interfaces';\n\n/**\n *\n * @param eq {string} equation\n * @returns {string[]} field names in equation or empty list\n */\nexport function findFields(eq: string): string[] {\n    const fields = [];\n    const r = /{([^}]+)}/gi;\n    let m: RegExpMatchArray;\n\n    while ((m = r.exec(eq)) != null) {\n        fields.push(m[1]);\n    }\n\n    return fields;\n};\n\n/**\n *\n * @param field {string} field name\n * @returns {string} jquery input selector\n */\nexport function getFieldSelector(field: string): string {\n    if (/^[a-zA-Z].*/.test(field)) {\n        return ':input[name=\"' + field + '\"]';\n    }\n    return field;\n};\n\n/**\n *\n * @param value {string | number | string[]} field value from input control\n * @param numberFormat {INumberFormat} formatted values to be used later\n */\nexport function numCleanse(value: string | number | string[], opts: IOptions, numberFormat: INumberFormat): string {\n    const fieldValue = value + '';\n    const sepOpts = opts.decimalOpts.concat(opts.thousandOpts);\n    const numOpts = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '-'];\n    let numValue = '';\n    let ch = '';\n    let dec = '';\n    let decLoc = -1;\n    let thou = '';\n    let sym = '';\n    let symLoc = -1;\n    let decPlaces = 0;\n\n    for (let z = fieldValue.length - 1; z >= 0; z--) {\n        ch = fieldValue.charAt(z);\n        if ($.inArray(ch, numOpts) != -1) {\n            numValue = ch + numValue;\n        } else {\n            if (dec == '' && $.inArray(ch, opts.decimalOpts) != -1) {\n                decLoc = z;\n                dec = ch;\n                numValue = '.' + numValue;\n            } else if (thou == '' && $.inArray(ch, opts.thousandOpts) != -1) {\n                thou = ch;\n            } else if (sym == '' && $.inArray(ch, sepOpts) == -1 && (z == 0 || z == fieldValue.length - 1)) {\n                sym = ch;\n                symLoc = z;\n            }\n        }\n    }\n\n    if (dec != '') {\n        decPlaces = fieldValue.length - decLoc - 1;\n        if (symLoc > decLoc) {\n            decPlaces--;\n        }\n    }\n\n    if (opts.decimalPlaces != -1) {\n        decPlaces = opts.decimalPlaces;\n    }\n\n    if (arguments.length === 3) {\n        if (numberFormat.dec == '' && dec != '') {\n            numberFormat.dec = dec;\n        }\n\n        if ((numberFormat.decPlaces == -1 && decPlaces != -1) ||\n            (numberFormat.decPlaces != -1 && decPlaces != -1 && decPlaces < numberFormat.decPlaces)) {\n            numberFormat.decPlaces = decPlaces;\n        }\n\n        if (numberFormat.thou == '' && thou != '') {\n            numberFormat.thou = thou;\n        }\n        if (numberFormat.sym == '' && sym != '') {\n            numberFormat.sym = sym;\n            numberFormat.symLoc = symLoc;\n        }\n    }\n\n    if (opts.emptyAsZero && numValue == '') {\n        numValue = '0';\n    }\n    return numValue;\n};\n\n/*\n    Takes a numeric value, \"fixes\" it to the specified number of decimal places, and then formats for typical\n    US format (\",\" for thousands and \".\" for decimal)\n*/\nexport function numberFix(num: number, decPlaces: number): string {\n    const n = num.toFixed(decPlaces) + '';\n    const x = n.split('.');\n    const x2 = x.length > 1 ? '.' + x[1] : '';\n    const rgx = /(\\d+)(\\d{3})/;\n    let x1 = x[0];\n    while (rgx.test(x1)) {\n        x1 = x1.replace(rgx, '$1' + ',' + '$2');\n    }\n    return x1 + x2;\n};\n","module.exports = jQuery;"],"sourceRoot":""}